const{BrowserWindow:BrowserWindow,Menu:Menu,session:session}=require("electron"),{AdBlocker:AdBlocker,Config:Config}=require("../../components"),{Menus:Menus}=require("../../menus"),path=require("path");class MainScreen{static window=null;static createWindow(e){MainScreen.window=new BrowserWindow({width:1024,height:768,show:!1,webPreferences:{icon:path.join(__dirname,"..","..","preload.js")}}),Menu.setApplicationMenu(Menus.default),Config.getInformation.adBlocker&&(AdBlocker.blockURLs(session),AdBlocker.blockAds(MainScreen.window)),MainScreen.window.loadURL(e),MainScreen.window.webContents.setWindowOpenHandler((({url:e})=>e.startsWith("http")?(MainScreen.window.loadURL(e),{action:"deny"}):{action:"deny"})),MainScreen.window.on("enter-full-screen",(()=>{Menu.setApplicationMenu(null)})),MainScreen.window.on("leave-full-screen",(()=>{Menu.setApplicationMenu(Menus.default)})),MainScreen.window.on("maximize",(()=>{Menu.setApplicationMenu(Menus.default)})),MainScreen.window.on("unmaximize",(()=>{Menu.setApplicationMenu(Menus.default)}))}static show(){MainScreen.window&&MainScreen.window.show()}static destroy(){MainScreen.window&&(MainScreen.window.destroy(),MainScreen.window=null)}}module.exports=MainScreen;