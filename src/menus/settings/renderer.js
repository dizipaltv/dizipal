window.addEventListener("DOMContentLoaded",(async()=>{try{const e=document.getElementById("checkAdressOnStartupSwitch"),t=document.getElementById("adBlockerSwitch");let n=await window.electronAPI.getDizipal();e.checked=n.checkAdressOnStartup,t.checked=n.adBlocker;let a=document.getElementById("currentSiteURL");a.value=n.currentSiteURL;document.getElementById("saveChanges").addEventListener("click",(async()=>{n.currentSiteURL=a.value,n.checkAdressOnStartup=!!e.checked,n.adBlocker=!!t.checked,await window.electronAPI.setDizipal(n),await window.electronAPI.notification({body:"Değişiklikler Kaydedildi! Değişikliklerin uygulanması için uygulama yeniden başlatılıyor..."}),await window.electronAPI.reOpenApp()}));const i=document.getElementById("syncURL");i.addEventListener("click",(async()=>{i.classList.add("loading");const e=await window.electronAPI.getApiURL(),t=n;t.currentSiteURL=e,await window.electronAPI.setDizipal(t),a.value=e,i.classList.remove("loading"),await window.electronAPI.notification({body:`Güncel adres ${a.value} ile başarıyla eşleşildi!`})}))}catch(e){console.error("Veri alma hatası:",e)}}));