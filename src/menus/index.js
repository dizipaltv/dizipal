const{BrowserWindow:BrowserWindow,shell:shell,Menu:Menu}=require("electron"),{App:App,Config:Config}=require("../components"),path=require("path");class MenuTemplate{#e=null;#l={preload:path.join(__dirname,"..","preload.js"),icon:path.join(__dirname,"..","images","icons","icon.png")};constructor(e=200,l=200,o){this.WIDTH=e,this.HEIGHT=l,this.FILE_PATH=o}process(){this.#e?this.#e.focus():(this.#e=new BrowserWindow({width:this.WIDTH,height:this.HEIGHT,icon:this.#l.icon,frame:!1,modal:!0,resizable:!1,maximizable:!1,minimizable:!1,parent:BrowserWindow.getFocusedWindow()||void 0,show:!1,webPreferences:{preload:this.#l.preload}}),this.#e.loadFile(this.FILE_PATH),this.#e.webContents.setWindowOpenHandler((({url:e})=>(e.startsWith("https:")&&shell.openExternal(e),{action:"deny"}))),this.#e.setMenu(null),this.#e.on("ready-to-show",(()=>{this.#e.show()})),this.#e.on("closed",(()=>{this.#e=null})))}close(){this.#e&&this.#e.close()}destroy(){this.#e&&this.#e.destroy()}}class Menus{static settings=new MenuTemplate(650,350,path.join(__dirname,"settings","index.html"));static about=new MenuTemplate(350,350,path.join(__dirname,"about","index.html"));static get default(){return Menu.buildFromTemplate([{label:"Dizipal",submenu:[{label:"Ayarlar",click(){Menus.settings.process()}},{label:"Hakkında",click(){Menus.about.process()}},{label:"Tarayıcıda Aç",click(){shell.openExternal(Config.getInformation.currentSiteURL)}},{label:"Uygulamayı Yeniden Başlat",click(){App.relaunch()}},{role:"close",label:"Uygulamadan Çık"}]},{label:"Düzenle",submenu:[{role:"undo",label:"Geri Al"},{role:"redo",label:"Yinele"},{type:"separator"},{role:"cut",label:"Kes"},{role:"copy",label:"Kopyala"},{role:"paste",label:"Yapıştır"},{type:"separator"},{role:"selectall",label:"Tümünü Seç"}]},{label:"Görünüm",submenu:[{role:"reload",label:"Siteyi Yeniden Yükle"},{role:"forceReload",label:"Siteyi Zorla Yeniden Yükle"},{role:"toggleDevTools",label:"Geliştirici Konsolunu Aç"}]}])}static get development(){return Menu.buildFromTemplate([{label:"Görünüm",submenu:[{role:"reload",label:"Sayfayı Yenile"},{role:"forceReload",label:"Sayfayı Zorla Yenile"},{role:"toggleDevTools",label:"Geliştirici Konsolunu Aç"}]}])}static close(){return{settings:()=>Menus.settings.destroy(),about:()=>Menus.about.destroy()}}}module.exports={Menus:Menus};